#  마장동(마포구 장애우 동행) 
2023 피우다 프로젝트에 참가하게되면서 배리어프리앱 프로젝트입니다.<br><br>
기획, 디자인, 운영과 배포까지 있어 전체적인 개발기간은 2023.05.15 ~2023.06.13 입니다.<br><br>
모바일에서도 사용이 가능하도록 모바일 반응형 디자인을 구현했습니다.


## 사진
| ![image](https://github.com/kkh1902/Mazangdong/assets/91061890/1af69c34-6de3-4553-a36b-809814a98533) | ![image](https://github.com/kkh1902/Mazangdong/assets/91061890/6d13a1ec-5c01-45ee-be8f-30ba1048c0d5) |![image](https://github.com/kkh1902/Mazangdong/assets/91061890/f093cd78-671b-4ac5-9688-a23d4a586f4a) | ![image](https://github.com/kkh1902/Mazangdong/assets/91061890/ce76a6bd-da32-4fcb-8137-c646476c6720) |
| --- | --- | --- | --- |
| ![image](https://github.com/kkh1902/Mazangdong/assets/91061890/fef418ac-5b3f-4780-92c7-7c388e30aa32) |![image](https://github.com/kkh1902/Mazangdong/assets/91061890/ddfa1b63-0ad6-4fa3-8aac-52106d335ac5) |![image](https://github.com/kkh1902/Mazangdong/assets/91061890/5c9bfe38-36ad-4f6d-aa04-fdbeffe51c44) |![image](https://github.com/kkh1902/Mazangdong/assets/91061890/2aa5c2d8-0e4d-4113-be2c-e0af1c968228)|

## 시연영상
https://github.com/kkh1902/Mazangdong/assets/91061890/5712fa04-6ba6-4a17-91f0-4ec70ec14df2


## 아이디어 배경
마포구에는 많은 장애인 분들이 거주하고 계십니다.<br><br> 그러나 도시 내 여러 장소에서는 장애인들을 위한 접근성이 부족하거나 배리어가 존재하는 경우가 많습니다.<br><br> 이로 인해 장애인들의 이동과 일상생활에 어려움을 겪는 경우가 발생합니다. <br><br>이러한 문제를 해결하고 장애인들의 편의를 증진시키기 위해 "마장동" 배리어프리 앱을 기획하게 되었습니다.

## 문제
배리어 부재: 마포구 내의 도로, 건물, 공공 시설 등에서 장애인들을 위한 접근성이 부족하거나 배리어가 존재합니다.<br><br>
정보 부족: 장애인들은 배리어의 위치와 종류에 대한 정보를 사전에 알지 못하고 이동해야 합니다.<br><br>
사회적 연결 부족: 장애인들 사이에서 정보와 경험을 공유하고 소통하는 플랫폼이 부족합니다.<br>

## 솔루션
배리어 회피 기능: 앱은 배리어가 있는 경로를 피하여 장애인들에게 최적의 이동 경로를 안내합니다.<br><br>
배리어 등록 기능: 장애인들은 앱을 통해 배리어의 위치와 종류를 등록하여 다른 장애인들과 공유할 수 있습니다.<br><br>
배리어 조회 기능: 앱을 사용하는 장애인들은 해당 지역의 배리어 정보를 조회하고, 대안 경로를 찾을 수 있습니다.<br>

## 서비스 소개
"마장동"은 장애인들을 위한 배리어프리 앱으로, 접근성과 편의성을 개선하여 장애인들의 이동과 생활을 돕습니다.<br><br> 앱은 사용자의 위치를 기반으로 배리어가 있는 경로를 회피하여 최적의 이동 경로를 제공합니다. <br><br>또한, 장애인들은 배리어 정보를 등록하고 다른 사용자들과 공유할 수 있어 도움과 지원을 받을 수 있습니다.<br><br> "마장동"은 장애인들의 사회적 연결을 강화하고 도시 환경의 개선에 기여합니다.

## 정보 구조도



## 기대효과
1. 장애인들의 이동 및 생활 편의 증대<br><br>
2. 배리어 정보의 공유 및 등록<br><br>
3. 사회적 연대 강화<br><br>
4. 인식과 이해의 증진

## 디자인
figma로 UI 디자인을 하였습니다.<br>
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/a815cafb-77bf-4de4-a4d0-6f98793c83ad)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/da10410c-a5ad-4dd2-92f5-24738d6fb008)

## 아이콘
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/7d7ced0b-b0ec-4e4f-b345-25d5bee9948e)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/cba07d17-7b0d-4043-860d-caf9e70c969a)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/70840efe-a75c-4bcc-b73c-ef7765f43112)

## UI 흐름
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/9abd0414-53f9-4b9c-b5c1-206aa0f989c0)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/d7033858-5914-4e84-abac-1fd1c0337bab)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/fbc72c04-0ef3-4005-9414-65d39a2bee16)


## IA
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/d9600554-a19a-407f-afb2-d1d98c7bbcec)


### 시스템 아키텍처
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/4594a3f3-2fdf-4018-b583-b6d0a33f9bff)


### 핵심 기술
배리어 회피 기술 (알고리즘)


### Frontend
1. 배리어 등록 및 조회:
   - 사용자가 배리어를 등록하고 조회할 수 있는 기능을 구현했습니다.
   - 사용자 입력을 받아서 서버에 배리어 정보를 전송하고, 필요한 경우 서버로부터 등록된 배리어 정보를 조회하여 화면에 표시했습니다.

2. NaverMap 사용:
   - NaverMap API를 통해 지도 기능을 앱에 통합했습니다.
   - 사용자에게 지도를 보여주고, 필요한 기능(마커 추가, 경로 탐색 등)을 구현했습니다.

3. Model 사용해 데이터 관리:
   - 앱 내에서 사용되는 데이터를 관리하기 위해 Model을 활용했습니다.
   - 데이터 모델을 정의하고, 이를 기반으로 사용자 입력이나 서버로부터 받은 데이터를 관리하고 가공했습니다.

4. Provider 사용:
   - 상태 관리를 위해 Provider 패키지를 사용했습니다.
   - 앱의 다양한 위젯들 간에 상태를 공유하고 업데이트하기 위해 Provider를 구성하고 활용했습니다.

5. 현재 위치 갖고와서 NaverMap에 요청에서 현재 주소 가져오기:
   - 사용자의 현재 위치를 가져오기 위해 위치 정보를 요청했습니다.
   - 위치 정보를 받은 후, NaverMap API를 사용하여 해당 위치의 주소를 가져와서 화면에 표시했습니다.

6. 사진 인코딩 후 DB에 저장:
   - 앱에서 촬영한 사진을 인코딩하여 데이터베이스(DB)에 저장하는 기능을 구현했습니다.
   - 인코딩된 이미지 데이터를 서버에 전송하고, 서버에서는 이를 DB에 저장하는 과정을 처리했습니다.



### BackEnd
1. 배리어 회피 알고리즘 개발:
   - 사용자가 등록한 배리어 정보를 기반으로 배리어 회피를 위한 알고리즘을 개발했습니다.
   - 알고리즘은 사용자의 위치와 목적지를 고려하여 가장 효율적인 경로를 계산하고, 배리어를 회피하는 경로를 제시했습니다.

2. DB에서 배리어 조회:
   - 배리어 정보를 저장하고 있는 데이터베이스(DB)에서 배리어를 조회하는 기능을 개발했습니다.
   - 사용자 요청에 따라 DB에서 배리어 정보를 검색하여 결과를 반환했습니다.

3. Node.js를 MySQL과 함께 컨테이너로 groom에 배포:
   - Node.js를 사용하여 백엔드 서버를 구축하고, MySQL 데이터베이스와 함께 Docker 컨테이너로 groom에 배포했습니다.
   - 이를 통해 서버의 확장성과 유지보수를 용이하게 하였습니다.

4. 모두의 여행에서 장애인 관광지 크롤링 및 DB 저장:
   - 모두의 여행이라는 웹사이트에서 장애인 관광지 정보를 크롤링하여 데이터를 수집했습니다.
   - 크롤링한 데이터를 DB에 저장하여 앱에서 활용할 수 있도록 구성했습니다.

5. 공공데이터에서 가져온 장애인 화장실 DB 저장:
   - 공공데이터 포털에서 제공하는 장애인 화장실 정보를 수집했습니다.
   - 수집한 데이터를 DB에 저장하여 앱에서 화장실 정보를 제공하는데 활용했습니다.

6. 공공데이터에서 가져온 휠체어 충전기 DB 저장:
   - 공공데이터 포털에서 제공하는 휠체어 충전기 정보를 수집했습니다.
   - 수집한 데이터를 DB에 저장하여 앱에서 휠체어 충전기 위치 정보를 제공하는데 활용했습니다.

## Trouble Shooting
- ☝🏻 문제 : Flutter에서 서버에서 가져온 데이터 관리에러
- ✍🏻 적용 : flutter에 있는 model에서 class 만들어서 관리
- ☝🏻 문제 : 화면을 넘길때 데이터 날라가는 문제 발생
- ✍🏻 적용 : 전에 화면에서 넘기고 후에 화면에서 받거나, Provider 상태관리 패키지 사용하여 상태데이터를 공유할 수 있으며, 유지 보수하기 쉬워짐
- ☝🏻 문제 : Flutter_naver_map은 polyline으로 경로가 그려지지 않음
- ✍🏻 적용 : pathoverlays를 사용해서 좌표들을 이어주어서 경로를 그렸다.
- ☝🏻 문제 : mobile현재 위치를 못가져오는 에러 
- ✍🏻 적용 : 기본설정에서 현재위치를 바꿔서 해결
- ☝🏻 문제 : mobile현재 위치를 못가져오는 에러 
- ✍🏻 적용 : 기본설정에서 현재위치를 바꿔서 해결
- ☝🏻 문제 : 사진을 DB에 저장 시 에러
- ✍🏻 적용 : DB에 저장할때 64incode진행후 저장 (LONGBLOB)

### 아쉬운점
- 처음 화면 설계를 잘못한 점이 제일 아쉬움
- 먼저 box해서 구분한다음 들어가는게 좋을 것 같음
- flutter가 처음이다보니 반응형 모바일에 맞는 여백, 부족하였음
- 유지보수가 쉽게 화면을 구상하지 못했음
- db요청 하는 함수들 중복문제 많이 발생
- 실제 앱에서 작동안되는 현재위치 카메라 위치조정 기능
- 실제 앱에서 로딩되는 속도가 다른 문제점 로딩화면이 필요함을 느낌
- 업무분담과 시간 조절 잘못, frontend와 backend 기능을 명확히 나눌 필요를 느낌
- Frontend 화면을 만드는 시간에 대한 감각이 필요
- 기능에 대해서 고민을 더할 필요성을 느낌
- 레퍼런스들을 더 많이 찾아볼 필요가 있음
- 서버를 AWS로 배포할 필요를 느낌
- githubaction을 사용해서 자동 배포를 사용해볼 필요 (CI/CD 워크플로우 자동화 도구)






## 활용 데이터
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/6e9b14c3-8bf9-40d3-8742-1ebbf4662a2b)
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/ea7bbc69-2269-448c-9d19-946b99524528)


## 팀소개
![image](https://github.com/kkh1902/Mazangdong/assets/91061890/aea9d4d7-0add-4f6e-8526-5ba782ad09f7)


